<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- CSS -->
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="./index.css">
    <!-- / CSS -->

    <title>Firebase</title>
    <script src="https://kit.fontawesome.com/ce27987ac1.js" crossorigin="anonymous"></script>
    <!-- load from another page -->
    <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <script> 
      $(function(){
        $("#nav_wrapperasd").load("./menu.html");
        $("#footer").load("./footer.html");
        
      });
    </script>
    <!-- / load from another page -->
  </head>
  <body>
	<div class="kontainer">
		<div class="slider">
			<div class="div1 div1a">
				<div class="div2">
					hai agya2
				</div>
				<div class="div3">
					hai agyaaaaassss
				</div>
				<img src="./img/agya-2-2020.jpg">
			</div>
			<div class="div1 div1b">
				<div class="div2">
					hai venturer
				</div>
				<img src="./img/venturer.jpg">
			</div>
			<div class="div1 div1c">
				<div class="div2">
					hai avanza
				</div>
				<img src="./img/avanza.jpg">
			</div>
			<div class="div1 div1d">
				<div class="div2">
					hai agyaaaaa
				</div>
				<img src="./img/agya.jpg">
			</div>
		</div>
		<div class="tombol">
			<div class="kanan"></div>
			<div class="kiri"></div>
		</div>
	</div>

	<button class="btn1">write to firebase</button>
	
	<script>
		let div1All = document.querySelectorAll('.div1');
		let slider = document.querySelector('.slider');
		let val2 = 2000;
		let val3 = div1All.length*100+100;
		let val4 = -100; 
		let val5 = div1All.length;
		let valx = 1;
		let tombol = document.querySelectorAll('.tombol div');
		slider.style.width = val3+'vw';
		
		let int2 = function(){
			div1All = document.querySelectorAll('.div1');
			if(valx==1){
				valx=0;
				divBaru = document.createElement('div');
				divBaru.setAttribute('class','div1');
				divBaru.innerHTML = div1All[0].innerHTML;
				slider.appendChild(divBaru);
			};
			div1All[0].style.marginLeft = val4+'vw';
			div1All[0].style.transition = 800+'ms';

			div1All[0].addEventListener('transitionend',function(){
				div1All[0].remove();
				valx=1;
			})
		};

		let int3 = function(){
			let div2All = document.querySelectorAll('.div1');
			if(valx==1){
				valx=0;
				divBaru = document.createElement('div');
				divBaru.setAttribute('class','div1 div1x');
				divBaru.innerHTML = div2All[val5-1].innerHTML;
				slider.insertBefore(divBaru,div2All[0]);
			};
			divBaru.style.transition = 800+'ms';
			div2All = document.querySelectorAll('.div1');
			
			setTimeout(function(){
				div2All[0].style.marginLeft = 0+'vw';
			},20);

			div2All[0].addEventListener('transitionend',function(){
				div2All[val5].remove();
				valx=1;
			})
		}
		let int = setInterval(int2,val2);

		tombol[0].parentElement.addEventListener('mouseenter',()=>{
			clearInterval(int);
			// console.log(val1);
		});
		tombol[0].parentElement.addEventListener('mouseleave',()=>{
			int=setInterval(int2,val2);
		});

		tombol[0].addEventListener('click',()=>{
			int2()
		});

		tombol[1].addEventListener('click',()=>{
			int3()
		});

		// let imgAll = document.querySelectorAll('.slider img');
		// let tombol = document.querySelectorAll('.tombol div');
		// let jmlImg = imgAll.length;
		// let val1=0;
		// let val2=2000;
		// let margin=jmlImg * -100;
		
		// let int2=function(){
		// 	imgAll = document.querySelectorAll('.slider img');
		// 	val1 =-100;
		// 	imgAll[0].classList.add('slides');
		// 	imgAll[0].style.marginLeft= val1+'%';
			
		// 	let imgBru=document.createElement('img');
		// 	let getAttImg = imgAll[0].getAttribute('src');
		// 	imgBru.setAttribute('src',getAttImg);
		// 	let create = document.querySelector('.slider');
		// 	create.appendChild(imgBru);
		// 	setTimeout(function(){
		// 		imgAll[0].remove()
		// 	},1000);
		// };
	</script>
		  
<!-- FIREBASE -->
	<!-- Insert these scripts at the bottom of the HTML, but before you use any Firebase services -->
	
	<!-- Firebase App (the core Firebase SDK) is always required and must be listed first -->
	<script src="https://www.gstatic.com/firebasejs/8.2.5/firebase-app.js"></script>
	
	<!-- If you enabled Analytics in your project, add the Firebase SDK for Analytics -->
	<script src="https://www.gstatic.com/firebasejs/8.2.5/firebase-analytics.js"></script>
	
	<!-- Add Firebase products that you want to use -->
	<script src="https://www.gstatic.com/firebasejs/8.2.5/firebase-database.js"></script>
	<!-- <script src="https://www.gstatic.com/firebasejs/8.2.5/firebase-auth.js"></script>
	<script src="https://www.gstatic.com/firebasejs/8.2.5/firebase-firestore.js"></script> -->
	
	<!-- Previously loaded Firebase SDKs -->
	
	<script>
		// Your web app's Firebase configuration
	// For Firebase JS SDK v7.20.0 and later, measurementId is optional
	var firebaseConfig = {
		apiKey: "AIzaSyBaYEZby9cw24lL7lCBCn6c8NYMynSwxS4",
		authDomain: "umkm-reactjs-app.firebaseapp.com",
		databaseURL: "https://umkm-reactjs-app-default-rtdb.firebaseio.com",
		projectId: "umkm-reactjs-app",
		storageBucket: "umkm-reactjs-app.appspot.com",
		messagingSenderId: "890606430922",
		appId: "1:890606430922:web:7a142dd4d04fd27b342233",
		measurementId: "G-ZKVX1F5YT1"
	};
	// Initialize Firebase
	firebase.initializeApp(firebaseConfig);
	</script>

	<script>
		var database = firebase.database();
		let btn1 = document.querySelector('.btn1');
		let createTodo = () => {
			let todoRef = database.ref('data1');
			let todo = {
				title:'selamatpagi',
				complete: true,
			};
			
			todoRef.push(todo);
			alert('username '+todo.title+' berhasil ditambahkan')
		};
		btn1.addEventListener('click',createTodo)
	</script>
<!-- / FIREBASE -->


<!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.js" integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
  </body>
</html>